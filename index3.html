<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>搜索书名</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .container {
            width: 100%;
            max-width: 600px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
            text-align: left; /* 确保容器内的内容左对齐 */
        }
        .search-container {
            margin-bottom: 20px;
        }
        .search-container input {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .search-container button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: #fff;
            margin-top: 10px;
        }
        .search-container button:hover {
            background-color: #0056b3;
        }
        .results {
            margin-top: 20px;
        }
        .result-item {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 10px;
            background-color: #fff;
            display: flex;
            flex-direction: column;
            align-items: flex-start; /* 确保子元素左对齐 */
        }
        .result-item .name,
        .result-item .link {
            word-break: break-all;
            margin: 5px 0; /* 增加上下间距 */
        }
        .result-item .copy-button {
            padding: 5px 10px;
            font-size: 14px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #28a745;
            color: #fff;
            margin-top: 10px;
        }
        .result-item .copy-button:hover {
            background-color: #218838;
        }
        /* Toast 样式 */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #28a745;
            color: #fff;
            padding: 10px 20px;
            border-radius: 5px;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        .toast.show {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>搜索书名</h1>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="请输入要搜索的书名">
            <button id="searchButton">搜索</button>
        </div>
        <div class="results" id="results"></div>
    </div>

    <!-- Toast 元素 -->
    <div id="toast" class="toast">已复制到剪贴板</div>

    <script>
        // 示例 JSON 数据
        const books = [
            { "name": "哈利·波特与魔法石.txt", "link": "https://example.com/harry-potter" },
            { "name": "三国演义.pdf", "link": "https://example.com/sanguo" },
            { "name": "红楼梦.epub", "link": "https://example.com/honglou" },
            { "name": "西游记.mobi", "link": "https://example.com/xiyou" },
            { "name": "水浒传.docx" }, // 没有 link
            { "name": "围城.txt", "link": "https://example.com/weicheng" },
            { "name": "平凡的世界.pdf", "link": "https://example.com/pingfan" },
            { "name": "活着.epub", "link": "https://example.com/huozhe" },
            { "name": "白夜行.mobi", "link": "https://example.com/baiyexing" },
            { name: '逻辑哲学论(全新译本）（西方哲学的经典著作 几乎影响了一个时代的哲学思想） (西方学术经典译丛).epub'},
            { "name": "追风筝的人.docx", "link": "https://example.com/kite-runner" }
            // 这里可以添加更多的书名
        ];

        // 获取 DOM 元素
        const searchInput = document.getElementById('searchInput');
        const searchButton = document.getElementById('searchButton');
        const resultsContainer = document.getElementById('results');
        const toast = document.getElementById('toast');

        // 搜索函数
        function search() {
            const query = searchInput.value.toLowerCase();
            const filteredBooks = books.filter(book => book.name.toLowerCase().includes(query));

            // 清空之前的搜索结果
            resultsContainer.innerHTML = '';

            if (filteredBooks.length === 0) {
                resultsContainer.innerHTML = '<p>没有找到匹配的结果。</p>';
                return;
            }

            // 显示搜索结果
            filteredBooks.forEach(book => {
                const resultItem = document.createElement('div');
                resultItem.className = 'result-item';

                const nameDiv = document.createElement('div');
                nameDiv.className = 'name';
                nameDiv.textContent = `名称: ${book.name}`;

                const linkDiv = document.createElement('div');
                linkDiv.className = 'link';
                if (book.link) {
                    linkDiv.textContent = `链接: ${book.link}`;
                } else {
                    linkDiv.textContent = '无链接';
                }

                if (book.link) {
                    const copyButton = document.createElement('button');
                    copyButton.className = 'copy-button';
                    copyButton.textContent = '复制';
                    copyButton.onclick = () => {
                        copyToClipboard(`${book.name}\n${book.link}`);
                    };
                    resultItem.appendChild(copyButton);
                }

                resultItem.appendChild(nameDiv);
                resultItem.appendChild(linkDiv);
                resultsContainer.appendChild(resultItem);
            });
        }

        // 复制到剪贴板的函数
        function copyToClipboard(text) {
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = text;
            document.body.appendChild(tempTextArea);

            tempTextArea.select();
            tempTextArea.setSelectionRange(0, 99999); // 适用于移动设备
            document.execCommand('copy');

            document.body.removeChild(tempTextArea);

            // 显示 Toast 提示
            showToast();
        }

        // 显示 Toast 提示
        function showToast() {
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000); // 3 秒后隐藏
        }

        // 绑定事件
        searchButton.addEventListener('click', search);
        searchInput.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                search();
            }
        });
    </script>
</body>
</html>
